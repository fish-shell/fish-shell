complete -c pg_dumpall --no-files

# General options:
complete -c pg_dumpall -s f -l file -r -d "output file name"
complete -c pg_dumpall -s v -l verbose -d "verbose mode"
complete -c pg_dumpall -s V -l version -d "output version information, then exit"
complete -c pg_dumpall -l lock-wait-timeout -x -d "fail after waiting TIMEOUT for a table lock"
complete -c pg_dumpall -s '?' -l help -d "show this help, then exit"

# Options controlling the output content:
complete -c pg_dumpall -s a -l data-only -d "dump only the data, not the schema"
complete -c pg_dumpall -s c -l clean -d "clean (drop) database objects before recreating"
complete -c pg_dumpall -s E -l encoding -x -d "dump the data in encoding ENCODING"
complete -c pg_dumpall -s g -l globals-only -d "dump only global objects, no databases"
complete -c pg_dumpall -s o -l oids -d "include OIDs in dump"
complete -c pg_dumpall -s O -l no-owner -d "skip restoration of object ownership"
complete -c pg_dumpall -s r -l roles-only -d "dump only roles, no databases or tablespaces"
complete -c pg_dumpall -s s -l schema-only -d "dump only the schema, no data"
complete -c pg_dumpall -s S -l superuser -x -d "superuser user name to use in the dump"
complete -c pg_dumpall -s t -l tablespaces-only -d "dump only tablespaces, no databases or roles"
complete -c pg_dumpall -s x -l no-privileges -d "do not dump privileges (grant/revoke)"
complete -c pg_dumpall -l binary-upgrade -d "for use by upgrade utilities only"
complete -c pg_dumpall -l column-inserts -d "dump data as INSERT commands with column names"
complete -c pg_dumpall -l disable-dollar-quoting -d "disable dollar quoting, use SQL standard quoting"
complete -c pg_dumpall -l disable-triggers -d "disable triggers during data-only restore"
complete -c pg_dumpall -l if-exists -d "use IF EXISTS when dropping objects"
complete -c pg_dumpall -l inserts -d "dump data as INSERT commands, rather than COPY"
complete -c pg_dumpall -l load-via-partition-root -d "load partitions via the root table"
complete -c pg_dumpall -l no-comments -d "do not dump comments"
complete -c pg_dumpall -l no-publications -d "do not dump publications"
complete -c pg_dumpall -l no-role-passwords -d "do not dump passwords for roles"
complete -c pg_dumpall -l no-security-labels -d "do not dump security label assignments"
complete -c pg_dumpall -l no-subscriptions -d "do not dump subscriptions"
complete -c pg_dumpall -l no-sync -d "do not wait for changes to be written safely to disk"
complete -c pg_dumpall -l no-tablespaces -d "do not dump tablespace assignments"
complete -c pg_dumpall -l no-unlogged-table-data -d "do not dump unlogged table data"
complete -c pg_dumpall -l quote-all-identifiers -d "quote all identifiers, even if not key words"
complete -c pg_dumpall -l use-set-session-authorization -d "use SET SESSION AUTHORIZATION commands instead of ALTER OWNER commands to set ownership"

# Connection options:
complete -c pg_dumpall -s d -l dbname -x -a '(__fish_complete_pg_database)' -d "database to dump"
complete -c pg_dumpall -s h -l host -x -a '(__fish_print_hostnames)' -d "database server host or socket directory"
complete -c pg_dumpall -s l -l database -x -a '(__fish_complete_pg_database)' -d "alternative default database"
complete -c pg_dumpall -s p -l port -x -d "database server port number"
complete -c pg_dumpall -s U -l username -x -a '(__fish_complete_pg_user)' -d "connect as specified database user"
complete -c pg_dumpall -s w -l no-password -d "never prompt for password"
complete -c pg_dumpall -s W -l password -d "force password prompt (should happen automatically)"
complete -c pg_dumpall -l role -x -d "do SET ROLE before dump"
